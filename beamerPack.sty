%-*-coding: utf-8 -*-
\ProvidesPackage{beamerPack}
\usepackage{commonsettings}
\usepackage{gothic}

%%% beamer
\def\beamerhandoutmode{handout}
\def\ifbeamerhandout#1#2{\ifx\beamer@currentmode\beamerhandoutmode#1\else#2\fi}
\usefonttheme[onlymath]{serif}
\usepackage{hyperref}
\hypersetup{unicode=true}
%\usepackage{multimedia}
%%% beamerthemeNagasaki
%\DeclareOptionBeamer{compress}{\beamer@compresstrue}
%\ProcessOptionsBeamer

\mode<presentation>
\setbeamercolor{section in head/foot}{use=structure,bg=structure.fg!25!bg}
\useoutertheme[subsection=false]{miniframes}
\setbeamertemplate{frametitle}[default][center]
\usecolortheme{rose}
\useinnertheme[shadow]{rounded}

\AtBeginDocument{%
  {
    \usebeamercolor{section in head/foot}
  }
  \pgfdeclareverticalshading{beamer@headfade}{\paperwidth}
  {%
    color(0cm)=(bg);
    color(1.25cm)=(section in head/foot.bg)%
  }
  \setbeamercolor{section in head/foot}{bg=}
}
%\addtoheadtemplate{\pgfuseshading{beamer@headfade}\vskip-1.25cm}{}
\beamertemplatedotitem
%%%%%%%%%%%%%%
\def\beamerlfoot{}
\def\beamerrfoot{}
\setbeamertemplate{footline}%{miniframes theme}%
{%
  \begin{beamercolorbox}[colsep=1.5pt]{upper separation line head}
  \end{beamercolorbox}
  \begin{beamercolorbox}{section in head/foot}
    \vskip4pt\hskip0pt%
        {\hbox to 0.4\textwidth{\hspace{2mm}\textcolor{gray}{\beamerlfoot\hfill}}}%
        \hfill\insertframenumber/\inserttotalframenumber\hfill%
        \hbox to 0.4\textwidth{\hspace{2mm}\textcolor{gray}{\hfill\beamerrfoot\quad }}%
    \vskip4pt
  \end{beamercolorbox}%
  \ifbeamer@theme@subsection%
    \begin{beamercolorbox}[colsep=1.5pt]{middle separation line head}%
    \end{beamercolorbox}%
    \begin{beamercolorbox}[ht=2.5ex,dp=1.125ex,%
      leftskip=.3cm,rightskip=.3cm plus1fil]{subsection in head/foot}%
      \usebeamerfont{subsection in head/foot}%\insertsubsectionhead
    \end{beamercolorbox}%
  \fi%
  \begin{beamercolorbox}[colsep=1.5pt]{lower separation line head}%
  \end{beamercolorbox}%
}
%%%%%%%%%%%%%%
\defbeamertemplate*{footlineSimple}{miniframes theme}
{%
  \begin{beamercolorbox}[colsep=1.5pt]{upper separation line head}
  \end{beamercolorbox}
  \begin{beamercolorbox}{section in head/foot}
    \vskip2pt\begin{center}\insertframenumber/\inserttotalframenumber\end{center}\vskip2pt
  \end{beamercolorbox}%
  \ifbeamer@theme@subsection%
    \begin{beamercolorbox}[colsep=1.5pt]{middle separation line head}
    \end{beamercolorbox}
    \begin{beamercolorbox}[ht=2.5ex,dp=1.125ex,%
      leftskip=.3cm,rightskip=.3cm plus1fil]{subsection in head/foot}
      \usebeamerfont{subsection in head/foot}%\insertsubsectionhead
    \end{beamercolorbox}%
  \fi%
  \begin{beamercolorbox}[colsep=1.5pt]{lower separation line head}
  \end{beamercolorbox}
}
\mode<all>
\setbeamertemplate{navigation symbols}{}
\setbeamercolor{postit}{fg=black, bg=yellow}
\setbeamertemplate{itemize items}[ball]
\setbeamertemplate{itemize subitem}[triangle]
\setbeamertemplate{enumerate items}[circle]
\setbeamertemplate{enumerate subitem}[default]
\setbeamercolor{postit}{fg=black, bg=yellow}
\ifbeamerhandout{\setbeamertemplate{background}{\tikz[overlay]{\node[draw,rotate=30,scale=6,gray!30,anchor=center]at(0.6\textwidth,-0.6\textheight){\textbf{HANDOUT}};}}}{}

% 黒板モード
\setbeamercolor{Reversed}{fg=bg,bg=green!25!black}
\newenvironment{blackboardbox}{\begin{beamercolorbox}[sep=10pt,rounded=true,wd=1.02\textwidth]{Reversed}\Large\mikaFontEn\mikaFontJp\parindent=0pt}{\end{beamercolorbox}}


\renewcommand{\goodanswer}[1]{\ifoptionfinal{\colorbox{lgray}{#1}}{\colorbox{white}{\phantom{#1}}}}
\endinput
